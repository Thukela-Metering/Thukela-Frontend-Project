<h2 class="f-w-500 m-b-24" mat-dialog-title><strong>{{action}}</strong></h2>

@if(action !== 'Delete') {
<mat-dialog-content style="max-width: 600px">
  <form #userForm="ngForm">
    <div class="row">
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <input type="text" matInput required id="name" name="name" [(ngModel)]="local_data.name" placeholder="Name" />
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <input type="text" matInput required id="surname" name="surname" [(ngModel)]="local_data.surname"
            placeholder="Surname" />
        </mat-form-field>
      </div>   
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <input type="text" matInput required id="username" name="username" [(ngModel)]="local_data.username"
            placeholder="username" />
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-select [(value)]="local_data.userRole" placeholder="Selecet User Role">
            <mat-option>
            <ngx-mat-select-search placeholderLabel="Find role..." 
            noEntriesFoundLabel="'no matching record found'" class="searchfield-class" [formControl]="roleFilterCtrl">
            <div class="searchfield-class">something special</div>
          </ngx-mat-select-search>
        </mat-option>
            <mat-option *ngFor="let role of filteredRoles" [value]="role.id">{{ role.name }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <input type="text" matInput required id="password" name="password" [(ngModel)]="local_data.password"
            placeholder="Password" />
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <input type="text" matInput required id="confirmPassword" name="confirmPassword" [(ngModel)]="local_data.confirmPassword"
            placeholder="Confirm Password" />
        </mat-form-field>
      </div>     
    
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <input type="text" matInput required id="email" name="email" [(ngModel)]="local_data.email"
            placeholder="Email" />
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <input type="text" matInput required id="mobile" name="mobile" [(ngModel)]="local_data.mobile"
            placeholder="Mobile" />
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="w-100">
          <textarea type="text" matInput required id="Address" name="Address" [(ngModel)]="local_data.address"
            placeholder="Address">
        </textarea>
        </mat-form-field>
      </div>
    </div>
    <div class="col-lg-6">
      <!-- <mat-form-field appearance="outline" class="w-100"> -->
        <mat-radio-group name="isActive" class="w-100" [(ngModel)]="local_data.isActive">
          <mat-radio-button [value]="true">Active</mat-radio-button>
          <mat-radio-button [value]="false">Inactive</mat-radio-button>
        </mat-radio-group>
        <ng-container *ngIf="local_data.isActive === false">
          <mat-form-field appearance="outline" class="w-100">
            <input
              matInput
              [matDatepicker]="startDateDP"
              placeholder="Inactive from"
              name="dateDeleted"
              [(ngModel)]="local_data.dateDeleted"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="startDateDP"
            ></mat-datepicker-toggle>
            <mat-datepicker #startDateDP></mat-datepicker>
          </mat-form-field>
        </ng-container>
        
        <!-- <input type="text" matInput required id="isActive" name="isActive" [(ngModel)]="local_data.isActive"
          placeholder="isActive" /> -->
      <!-- </mat-form-field> -->
    </div>
    <div class="form-actions">
      <button mat-stroked-button color="warn" type="button" (click)="closeDialog()">Cancel</button>
      <button mat-flat-button color="primary" type="submit" (click)="doAction()" [disabled]="userForm.invalid">
        {{ action }}
      </button>
    </div>
  </form>
</mat-dialog-content>
} @else {
<div class="p-x-24">
  <p class="mat-drawer-container">Sure to delete <span class="f-w-600">{{local_data.name}}</span> ?</p>
</div>
<div mat-dialog-actions class="p-x-24 p-b-24">
  <button mat-button (click)="doAction()" mat-flat-button color="warn">
    {{action}}
  </button>
  <button mat-button (click)="closeDialog()" class="m-l-8">Cancel</button>
</div>
}